################################################################################
# GLOBAL ARGS
################################################################################
ARG DEBIAN_FRONTEND=noninteractive
ARG USER_NAME=koehl

################################################################################
# FROM
################################################################################
FROM ubuntu:latest as workstation

################################################################################
# STAGE ARGS, copied from global
################################################################################
ARG DEBIAN_FRONTEND
ARG USER_NAME

################################################################################
# SHELL
################################################################################
SHELL ["/bin/bash", "-o", "pipefail", "-c"]

################################################################################
# PACKAGES, required
################################################################################
RUN apt-get update \
  && apt-get install -y \
  curl \
  git \
  jq

################################################################################
# USER
################################################################################
# RUN adduser --gecos '' --disabled-password ${USER_NAME}
# USER ${USER_NAME}
# ENV HOME="/home/${USER_NAME}"
# WORKDIR ${HOME}
ENV HOME="/root"
WORKDIR ${HOME}

################################################################################
# INIT
################################################################################
RUN sh -c "$(curl -fsSL https://raw.githubusercontent.com/gkoehl/public/master/scripts/workstation/init.cmd)"
